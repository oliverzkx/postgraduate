# Case 3 â€“ Conjugate Gradient (CG) Solver

This folder contains C++ source files and Python scripts to demonstrate how to solve a linear system using the Conjugate Gradient (CG) method for different problems and analyze the results.

### Contents

- **3_1.cc**: C++ code for the first part of the assignment (case study 1).
- **3_2.cc**: C++ code for the second part of the assignment (case study 2).
- **3_3.cc**: C++ code for the third part of the assignment (case study 3).
  - This program estimates eigenvalues, solves the linear system with CG, and writes the convergence data to a CSV file.
- **Makefile**: A file that helps you compile the C++ programs.  
  - `make` will compile `3_1.cc`, `3_2.cc`, and `3_3.cc` into executables (`run_3_1`, `run_3_2`, and `run_3_3`).
  - `make clean` will remove the executables and any CSV or PNG files.
- **cg_convergence.csv**: A sample output file from running `3_3.cc`.  
  - It stores the residual norm at each CG iteration.
- **cg_convergence.png**: A sample plot of the residual norm vs. iteration, generated by one of the Python scripts.
- **plot_cg_results.py**: A Python script that reads `cg_convergence.csv` and creates a simple plot of the residual norm vs. iteration, saving it as `cg_convergence.png`.
- **analyze_cg_convergence.py**: Another Python script that reads `cg_convergence.csv`, prints basic statistics about the convergence, and also plots the data, saving the figure as `cg_convergence.png`.
- **u_profile.csv** and **u_profile.png**: An example profile (1D slice of the solution) and its plot (used in some parts of the assignment).

### How to Compile

1. Make sure you have a C++ compiler installed, such as `g++`.
2. In the terminal, go to this folder (`Case_3`) and type:
   ```bash
   make

1. This will create three executables: `run_3_1`, `run_3_2`, and `run_3_3`.

### How to Run

- **Case Study 1**:

  ```bash
  ./run_3_1
  ```

- **Case Study 2**:

  ```bash
  ./run_3_2
  ```

- **Case Study 3**:

  ```bash
  ./run_3_3
  ```

  This will estimate some eigenvalues, solve the system with CG, and create a file called `cg_convergence.csv`.

### How to Plot the Convergence

1. Make sure you have Python 3 installed with `pandas` and `matplotlib`. You can install them by:

   ```bash
   pip install pandas matplotlib
   ```

2. Run:

   ```bash
   python3 plot_cg_results.py
   ```

   or

   ```bash
   python3 analyze_cg_convergence.py
   ```

   Both scripts read `cg_convergence.csv` and generate a plot of the residual norm vs. iteration. They save the figure as `cg_convergence.png`. The `analyze_cg_convergence.py` script also prints some basic statistics about the residuals.

### Cleaning Up

- To remove the executables and output files:

  ```bash
  make clean
  ```

  This will delete any `.csv` and `.png` files as well as the executables.